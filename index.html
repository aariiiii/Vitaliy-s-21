<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vitaliyâ€™s 21 ðŸŽ‚</title>

  <!-- Preview card -->
  <meta property="og:title" content="Happy 21, Vitaliy ðŸŽ‚" />
  <meta property="og:description" content="Blow your candles, mor â€” Gatita" />
  <meta property="og:image" content="https://aariiiii.github.io/Vitaliy-s-21/skullbd.jpg" />
  <meta name="theme-color" content="#ffd166" />

  <style>
    html,body{margin:0;height:100%;font-family:system-ui,Segoe UI,Arial;background:#000}
    iframe{width:100%;height:100%;border:0}
    .overlay{
      position:fixed;inset:0;background:rgba(0,0,0,.75);
      display:flex;align-items:center;justify-content:center;
      color:#fff;text-align:center;padding:24px;z-index:99
    }
    .card{
      max-width:700px;background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.2);backdrop-filter:blur(6px);
      border-radius:18px;padding:28px
    }
    .btn{
      margin-top:20px;padding:12px 20px;font-weight:600;border:none;
      border-radius:12px;cursor:pointer;background:#ffd166;color:#000
    }
    .fab{
      position:fixed;right:16px;bottom:16px;padding:12px 20px;border-radius:999px;
      background:#ffd166;color:#000;font-weight:600;border:none;cursor:pointer;
      z-index:90;display:none
    }
  </style>
</head>
<body>

  <!-- PRE-BLOW -->
  <div id="intro" class="overlay">
    <div class="card">
      <p style="font-size:20px;line-height:1.4;margin:0;">
        A virtual cake since weÂ´re 7,500 miles away.<br>
        Blow your candles)
      </p>
      <button id="startBtn" class="btn" type="button">Start</button>
    </div>
  </div>

  <!-- POST-BLOW -->
  <div id="after" class="overlay" style="display:none">
    <div class="card">
      <p style="font-size:20px;line-height:1.4;margin:0;">
        Felices 21 vueltas al sol mor)<br><br>
        May this new step be your chance to achieve all the changes youÂ´ve wished for
        and bring u closer to everything youÂ´ve been working for.<br><br>
        â€“ Gatita
      </p>
      <button id="replayBtn" class="btn" type="button">Replay</button>
    </div>
  </div>

  <!-- CAKE -->
  <iframe
    id="cakeIframe"
    src="https://sherryuser.github.io/cake-blow/"
    allow="microphone; autoplay; fullscreen"></iframe>

  <!-- â€œCandles out!â€ button -->
  <button id="doneBtn" class="fab" type="button">Candles out!</button>

  <!-- Confetti library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const intro   = document.getElementById('intro');
      const after   = document.getElementById('after');
      const start   = document.getElementById('startBtn');
      const doneBtn = document.getElementById('doneBtn');
      const replay  = document.getElementById('replayBtn');
      const iframe  = document.getElementById('cakeIframe');

      // MUSIC
      const audio = new Audio("https://aariiiii.github.io/Vitaliy-s-21/birthday_music.mp3");
      audio.preload = "auto";

      // PARTY BLOWER
      const blower = new Audio("https://aariiiii.github.io/Vitaliy-s-21/tweet.mp3");
      blower.volume = 1.0;

      // START BUTTON
      start.addEventListener('click', function (e) {
        e.preventDefault();
        intro.style.display = 'none';
        doneBtn.style.display = 'inline-block';

        audio.volume = 0.6;
        audio.play().catch(() => {});

        iframe.contentWindow && iframe.contentWindow.focus();
      });

      // CANDLES OUT BUTTON
      doneBtn.addEventListener('click', function () {
        blower.currentTime = 0;
        blower.play().catch(() => {});

        confetti({
          particleCount: 180,
          spread: 70,
          origin: { y: 0.6 }
        });

        after.style.display = 'flex';
        doneBtn.style.display = 'none';
      });

      // REPLAY
      replay.addEventListener('click', function () {
        after.style.display = 'none';
        doneBtn.style.display = 'inline-block';
      });

    });
  </script>

</body>
</html>
